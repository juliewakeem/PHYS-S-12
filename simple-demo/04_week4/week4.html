<!DOCTYPE html>
<html lang="en">

<title>PHYS S-12: Intro to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../style.css" rel="stylesheet">

<body>


<xmp theme="journal" style="display:none;">



 ### Week 4: Microcontroller Programming

 <h1> Arduino Uno and The Magic Flying Carpet</h1>
 <p1>For this week's assignment I chose to expand on my magic flying carpet. I wanted to make a start/stop button as well as add a potentiometer to control the speed. For the code, I used the examples from class and modified them to work with my kinetic sculpture rather than an LED light.</p1>

 <p2> The first thing I did was create the code for the start/stop button as well as set it up on the arduino uno.</p2>

 This is how my circuit looks like with just the button. 

 ![image of embroidery](Week4image1.jpg)

 Then I added the potentiometer and this is how the circuit looks. 

 ![image of embroidery](Week4image2.jpg)

 Here is the kinetic sculpture and the arduino with the rest of the circuit. 

 ![image of embroidery](Week4image3.jpg)

 This is the schematic of the circuit. 

 ![image of embroidery](Week4image4.jpeg)

 Here is all of my code:

 <pre><code class="language-arduino">
    // constants won't change. They're used here to set pin numbers:
    const int buttonPin = 2;     // the number of the pushbutton pin
    const int A1A = 3;  // define pin 3 for A-1A
    const int A1B = 4;  // define pin 4 for A-1B
    ;
    
    void setup() {
      pinMode(A1A, OUTPUT);     // initialize pins to motor control as output
      pinMode(A1B, OUTPUT);
      digitalWrite(A1A, 0);   // start with the motors off
      digitalWrite(A1B, LOW);
      // initialize the pushbutton pin as an input:
      pinMode(buttonPin, INPUT_PULLUP);
    
      //initialize pins for the potentiometer:
      pinMode(A0, OUTPUT);  //This will be GND for the potentiometer
      pinMode(A4, OUTPUT);  //This will be 3.3V for the pot
    
      digitalWrite(A0, LOW);
      digitalWrite(A4, HIGH);
    }
    
    void loop() {
      // read the state of the pushbutton value:
      int buttonState = digitalRead(buttonPin);
    
      // check if the pushbutton is pressed. If it is, the buttonState is HIGH:
      if (buttonState == LOW) {
        // start the motor
        digitalWrite(A1A, 200);
        digitalWrite(A1B, LOW);
        int pot_value = analogRead(A2);   //pot wiper is on A2
        int motor_speed = map(pot_value, 0, 1023, 255, 100); // map motor_level to pot_value so that zero corresponds to lowest speed
        analogWrite(A1A, motor_speed);
        delay(1);
      } else {
        // stop the motor
        digitalWrite(A1A, 0);   //  turns off motor when the button is unpressed
        digitalWrite(A1B, LOW);
      }
    
    }
 </code></pre>

 Finally, here is the final product video!



</xmp>
</body>

<script src="https://strapdownjs.com/v/0.2/strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>